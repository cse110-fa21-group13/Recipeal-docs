<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: create-edit-recipe.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: create-edit-recipe.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Contains the functions involved in creating and editing a new recipe

import { newCard } from "./recipe-card-create.js";
import { changeView, switchButtonView } from "./navigate.js";

/** ELEMENTS **/

// Image
let imageUpload = document.querySelector("input#input-img");
imageUpload.addEventListener("change", (e) => {
  handleImageUpload(e);
});

// Tags
let addTags = document.querySelector("button.tag-btn");
addTags.addEventListener("click", (e) => {
  addNewTag(e);
});

// Ingredients
let addIngs = document.querySelector("button.ing-btn");
addIngs.addEventListener("click", (e) => {
  addNewIngredient(e);
});

// Directions
let addSteps = document.querySelector("button.step-btn");
addSteps.addEventListener("click", (e) => {
  addNewStep(e);
});

// Save Button Create
let saveButtonCreate = document.querySelector("button.save-btn-create");
saveButtonCreate.addEventListener("click", () => {
  saveDataCreate();
});

// Save to my recipes button
let saveBtn = document.querySelector('.save-to-rec-btn');


/** FUNCTIONS **/

/* IMAGE */

/**
 * @method handleImageUpload
 *  Converts image to dataUrl to preview it
 *
 * @param none
 * @returns none
 */
function handleImageUpload() {
  let image = document.getElementById("input-img").files[0];
  let fileReader = new FileReader();
  fileReader.onload = function (e) {
    document.getElementById("display-image").src = e.target.result;
    console.log(e.target.result);
  };
  if (image) {
    fileReader.readAsDataURL(image);
  }
}

/* TAGS */

// Keep track of number of tag inputs
let tagCounter = 1;

// Array to store tags to repopulate tags later
let prevTags = [];

/**
 * @method addNewTag
 *  Adds new input for tags
 *
 * @param none
 * @returns none
 */
function addNewTag() {
  // Save prev tags in array
  for (let i = 1; i &lt;= tagCounter; i++) {
    let value = document.getElementById(`input-tags${i}`).value;
    prevTags.push(value);
  }

  document.getElementById("tag-wrapper").innerHTML += `
      &lt;input type="text" id="input-tags${String(
        tagCounter + 1
      )}" class="tags" name="input-tags${String(tagCounter + 1)}">
      `;
  tagCounter++;
  // After new tag has been created, repopulate previous tags
  for (let i = 1; i &lt; tagCounter; i++) {
    document.getElementById(`input-tags${i}`).value = prevTags[i - 1];
  }

  // Empty array
  while (prevTags.length > 0) {
    prevTags.pop();
  }
}

/* INGREDIENTS */

// Keep track of number of ingredient inputs
let ingCounter = 1;

// Array to store tags to repopulate tags later
let prevIngs = [];

/**
 * @method addNewIngredient
 *  Adds label and new input field for ingredients
 *
 * @param none
 * @returns none
 */
function addNewIngredient() {
  // Save prev tags in array
  for (let i = 1; i &lt;= ingCounter; i++) {
    let value = document.getElementById(`input-ings${i}`).value;
    prevIngs.push(value);
  }

  document.getElementById(
    "ing-wrapper"
  ).innerHTML += `&lt;div class="input-card-ings" id=card-ing${String(
    ingCounter + 1
  )}>
    &lt;label for="input-ings${String(ingCounter + 1)}" id=label-ings${String(
    ingCounter + 1
  )}>${String(ingCounter + 1)}.&lt;/label>
    &lt;input type="text" id="input-ings${String(
      ingCounter + 1
    )}"  class="ings" name="input-ings${String(ingCounter + 1)}">
 &lt;/div>`;

  ingCounter++;

  // After new tag has been created, repopulate previous tags
  for (let i = 1; i &lt; ingCounter; i++) {
    document.getElementById(`input-ings${i}`).value = prevIngs[i - 1];
  }

  // Empty array
  while (prevIngs.length > 0) {
    prevIngs.pop();
  }
}

/* DIRECTIONS */

// Keep track of number of step inputs
let stepCounter = 1;

// Array to store tags to repopulate tags later
let prevSteps = [];

/**
 * @method addNewStep
 *  Adds label and new input field for steps
 *
 * @param none
 * @returns none
 */
function addNewStep() {
  // Save prev tags in array
  for (let i = 1; i &lt;= stepCounter; i++) {
    let value = document.getElementById(`input-steps${i}`).value;
    prevSteps.push(value);
  }

  document.getElementById(
    "step-wrapper"
  ).innerHTML += `&lt;div class="input-card-steps" id=card-step${String(
    stepCounter + 1
  )}>
  &lt;label for="input-steps${String(stepCounter + 1)}" id=label-steps${String(
    stepCounter + 1
  )}>${String(stepCounter + 1)}.&lt;/label>
    &lt;input type="text" id="input-steps${String(
      stepCounter + 1
    )}"  class="steps" name="input-steps${String(stepCounter + 1)}">
    &lt;/div>`;

  stepCounter++;
  // After new tag has been created, repopulate previous tags
  for (let i = 1; i &lt; stepCounter; i++) {
    document.getElementById(`input-steps${i}`).value = prevSteps[i - 1];
  }

  // Empty array
  while (prevSteps.length > 0) {
    prevSteps.pop();
  }
}

/* SAVE DATA */

/**
 * @method recipeExists
 *  Checks to see if a recipe exists in local storage
 *  by checking the name
 *
 * @param {string} recipeName - name of recipe to check
 * @returns {boolean} - true if exists, false if doesn't exist
 */
function recipeExists(recipeName) {
  for (let i = 0; i &lt; localStorage.length; i++) {
    if (localStorage.key(i) == recipeName) {
      return true;
    }
  }
  return false;
}

/**
 * @method reset
 *  Clears input fields after saving
 *
 * @param none
 * @returns none
 */
function reset() {
  document.getElementById("input-name").value = "";
  document.getElementById("input-desc").value = "";
  document.getElementById("input-hours").value = "";
  document.getElementById("input-mins").value = "";

  let i = 1;
  let j = 1;
  let k = 1;

  document.getElementById("input-tags" + i).value = "";
  document.getElementById("input-ings" + j).value = "";
  document.getElementById("input-steps" + k).value = "";

  i++;
  j++;
  k++;

  // Loop through all tag inputs and remove them
  while (i &lt;= tagCounter) {
    document.getElementById("input-tags" + i).remove();
    i++;
  }

  // Loop through all ings inputs and remove them
  while (j &lt;= ingCounter) {
    document.getElementById("card-ing" + j).remove();
    j++;
  }

  // Loop through all dir inputs and remove them
  while (k &lt;= stepCounter) {
    document.getElementById("card-step" + k).remove();
    k++;
  }

  // Set image to default
  document.getElementById("display-image").src =
    "https://www.pngkit.com/png/full/129-1298005_png-file-upload-image-icon-png.png";

  tagCounter = 0;
  ingCounter = 0;
  stepCounter = 0;
}

/**
 * @method saveBase
 *  Saves data in input fields to local storage
 *  Resets the input field values
 *  Changes screen to expanded recipe page of saved recipe
 */
function saveBase() {
  var newRecipe = {
    name: "",
    description: "",
    time: { hours: "", minutes: "" },
    tags: [],
    ingredients: [],
    directions: [],
    thumbnail: "",
    favorites: 0,
    saveFrom: "Create",
    nutritionInfo: { calories: "", carbs: "", fat: "", protein: ""}
  };

  // Get name and store it in the object
  let name = document.getElementById("input-name").value;
  newRecipe.name = name;

  // Get description and store it in the object
  let desc = document.getElementById("input-desc").value;
  newRecipe.description = desc;

  // Get nutrition info and store it in the object
  let calories = document.getElementById("input-calories").value;
  newRecipe.nutritionInfo.calories = calories;

  let carbs = document.getElementById("input-carbs").value;
  newRecipe.nutritionInfo.carbs = carbs;

  let fat = document.getElementById("input-fat").value;
  newRecipe.nutritionInfo.fat = fat;

  let protein = document.getElementById("input-protein").value;
  newRecipe.nutritionInfo.protein = protein;

  // Get time and store it in the object
  let hours = document.getElementById("input-hours").value;
  let mins = document.getElementById("input-mins").value;
  newRecipe.time.hours = hours;
  newRecipe.time.minutes = mins;

  if(hours &lt; 0 || mins &lt; 0 || hours > 24 || mins > 60) {
    return alert("Please input valid times");
  }

  let i = 1;
  let j = 1;
  let k = 1;

  // Loop through all tag inputs and push them to array
  while (i &lt;= tagCounter) {
    let tagsValue = document.getElementById(`input-tags${i}`).value;
    if(tagsValue == "") {
      i++;
      continue;
    } else {
      newRecipe.tags.push(tagsValue);
      i++;
    }
  }

  // Loop through all ings inputs and push them to array
  while (j &lt;= ingCounter) {
    let ingsValue = document.getElementById(`input-ings${j}`).value;
    if(ingsValue == "") {
      j++;
      continue;
    } else {
      newRecipe.ingredients.push(ingsValue);
      j++;
    }
  }

  // Loop through all dir inputs and push them to array
  while (k &lt;= stepCounter) {
    let stepsValue = document.getElementById(`input-steps${k}`).value;
    if(stepsValue == "") {
      k++;
      continue;
    } else {
      newRecipe.directions.push(stepsValue);
      k++;
    }
  }

  // Get image and store in in the object as a string
  let img = document.getElementById("display-image");
  newRecipe.thumbnail = img.src;

  // Put the object into storage
  localStorage.setItem(
    newRecipe.name.toLowerCase(),
    JSON.stringify(newRecipe)
  );

  // Creates a recipe card &amp; displays it on the 'My Recipes' page
  newCard(newRecipe.name.toLowerCase());
  document.querySelector("recipe-expand").data = newRecipe;
  changeView("Recipe Expand");
}

/**
 * @method saveDataCreate
 *  Check to make sure input fields are valid or if recipe already exists
 *  If it doesn't
 *  Changes screen to expanded recipe page of saved recipe
 */
function saveDataCreate() {
  let checkName = document.getElementById("input-name").value.toLowerCase();

  // Check if user has inputted name field
  if (checkName == "") {
    return alert("Please add at least a recipe name to save the recipe.");
  }
  // Check if recipe has already been made
  else if (recipeExists(checkName)) {
    if (confirm("Recipe already exists. Would you like to update it?")) {
      // Delete old recipe 
      localStorage.removeItem(checkName);
      saveBase();
      alert("Recipe updated!");
      reset();
    }
    else {
      return;
    }
  }
  // Else, create new recipe object
  else {
    saveBase();
    alert("Recipe saved!");
    reset();
  }
}

/**
 * @method saveDataEdit
 *  Saves edited data in input fields to local storage and deletes old recipe
 *  Resets the input field values
 *  Changes screen to expanded recipe page of saved recipe
 *
 * @param {String} originalName - original name of recipe used for deletion
 */
 function saveDataEdit(originalName) {
  let checkName = document.getElementById("input-name").value.toLowerCase();
  localStorage.removeItem(originalName);
  // Delete old recipe with new name
  localStorage.removeItem(checkName);
  saveBase();
  alert("Recipe updated!");
  reset();
}


/**
 * @method navEdit
 *  Creates edit recipe page that contains data for a recipe in the inputs
 * 
 * @param {e} -  event
 */
 export function navEdit (e) {

  let createRecipe = document.querySelector(".section--create-recipe");
  let deleteButton = document.getElementById("delete-btn");
  let expandRecipe = document.querySelector(".section--recipe-expand");
  let recipeExpand = document.querySelector('recipe-expand');
  let cookModeBtn = document.getElementById("cook-mode-btn");

  // Get name from expanded recipe page
  let name = recipeExpand.shadowRoot.getElementById('input-name').textContent.toLowerCase();

  // Get recipe data from name
  let recipe = JSON.parse(window.localStorage.getItem(name));

  const innerText = typeof e === "string" ? e : e.target.innerText;
  
  if (innerText === "Edit Recipe") {
    
    // Hide and show pages
    expandRecipe.classList.remove("shown");
    createRecipe.classList.add("shown");
    switchButtonView(deleteButton);
    switchButtonView(cookModeBtn);

    // Hide edit button
    document.getElementById("edit-btn").style.display = 'none';

    // Show save button
    document.querySelector('button.save-btn-edit').style.display = "block";

    // Set Image
    document.getElementById('display-image').src = recipe.thumbnail;

    // Set Name
    document.getElementById('input-name').value = recipe.name;

    // Set Description
    document.getElementById('input-desc').value = recipe.description;

    // Set Nutrition Info
    document.getElementById('input-calories').value = recipe.nutritionInfo.calories;
    document.getElementById('input-carbs').value = recipe.nutritionInfo.carbs;
    document.getElementById('input-fat').value = recipe.nutritionInfo.fat;
    document.getElementById('input-protein').value = recipe.nutritionInfo.protein;

    // Set Hour and Min
    document.getElementById('input-hours').value = recipe.time.hours;
    document.getElementById('input-mins').value = recipe.time.minutes;

    let i;
    let j;
    let k;

    // Create inputs for tags
    for (i = 2; i &lt;= recipe.tags.length; i++) {
      document.getElementById("tag-wrapper").innerHTML += `
      &lt;input type="text" id="input-tags${i}" class="tags" name="input-tags${i}">
      `;
      tagCounter++;
    }
    
    // Set values for tags
    for (i = 1; i &lt;= recipe.tags.length; i++) {
      document.getElementById(`input-tags${i}`).value = recipe.tags[i-1] ;
    }

    // Create inputs for ings
    for (j = 2; j &lt;= recipe.ingredients.length; j++) {
      document.getElementById(
        "ing-wrapper"
      ).innerHTML += `&lt;div class="input-card-ings" id=card-ing${j}>
        &lt;label for="input-ings${j}" id=label-ings${j}>${j}.&lt;/label>
        &lt;input type="text" id="input-ings${j}"  class="ings" name="input-ings${j}">
     &lt;/div>`;
     ingCounter++;
    }

    // Set values for ings
    for (j=1; j &lt;= recipe.ingredients.length; j++) {
      document.getElementById(`input-ings${j}`).value = recipe.ingredients[j-1];
    }

    // Create inputs for steps
    for (k=2; k&lt;= recipe.directions.length; k++) {
      document.getElementById(
        "step-wrapper"
      ).innerHTML += `&lt;div class="input-card-steps" id=card-step${k}>
      &lt;label for="input-steps${k}" id=label-steps${k}>${k}.&lt;/label>
        &lt;input type="text" id="input-steps${k}"  class="steps" name="input-steps${k}">
        &lt;/div>`;
        stepCounter++;
    }

    // Set values for steps
    for (k=1; k &lt;= recipe.directions.length; k++) {
      document.getElementById(`input-steps${k}`).value = recipe.directions[k-1];
    }
  }

  // Save Button Edit
  let saveButtonEdit = document.querySelector("button.save-btn-edit");
  saveButtonEdit.addEventListener("click", () => {
  saveDataEdit(name);
});
}

/**
 * @method saveToMyRecipes
 *  Saves recipes from the explore page to my recipes
 *  Allows you to edit the recipe before you save
 * 
 * @param {JSON} data 
 */
 export async function saveToMyRecipes(data, apiKey) {
  tagCounter = 0;
  ingCounter = 0;
  stepCounter = 0;
  for (let i=0; i&lt;1; i++) {
    // Array to store ings
    let ings = [];

    // Steps
    let steps = [];

    // Description
    let summary;

    // Time
    let time;

    // Hours time
    let timeHour = "";

    // Tags
    let tags = [];

    // Get ingredients and push to array
    for (let j=0; j&lt;data.recipes[i].extendedIngredients.length; j++) {
      ings.push(data.recipes[i].extendedIngredients[j].original);
    }
    
    summary = data.recipes[i].summary;

    // Cleaning data
    summary = summary.replaceAll('&lt;b>', '');
    summary = summary.replaceAll('&lt;/b>', '');

    steps = data.recipes[i].instructions;
    steps = steps.replaceAll('&lt;ol>', '');
    steps = steps.replaceAll('&lt;/ol>', '');
    steps = steps.replaceAll('&lt;li>', '');
    steps = steps.replaceAll('&lt;/li>', '');
    steps = steps.replaceAll('\n', '');
    steps = steps.replaceAll('&lt;p>', '');
    steps = steps.replaceAll('&lt;/p>', '');
    steps = steps.split('.');
    steps.pop();
    

    // Converting time to hours min format
    time = data.recipes[i].readyInMinutes;
    if (time > 60) {
      timeHour = Math.floor(time / 60);
      time -= timeHour * 60;
      if(time === 0) {
        time = "";
      }
    }
    else if (time == 60) {
      timeHour = 1;
      time = "";
    }

    // Push tags to array
    if (data.recipes[i].cheap === true) {
      tags.push("cheap");
    }
    if (data.recipes[i].cuisines) {
      tags = tags.concat(data.recipes[i].cuisines);
    }
    if (data.recipes[i].dairyFree === true) {
      tags.push("dairy-free");
    }
    if (data.recipes[i].glutenFree === true) {
      tags.push("gluten-free");
    }
    if (data.recipes[i].ketogenic === true) {
      tags.push("ketogenic");
    }
    if (data.recipes[i].vegan === true) {
      tags.push("vegan");
    }
    if (data.recipes[i].vegetarian === true) {
      tags.push("vegetarian");
    }
    if (data.recipes[i].dishTypes) {
      for(let j = 0; j &lt; data.recipes[i].dishTypes.length; j++) {
        if(data.recipes[i].dishTypes[j] === "main course") {
          data.recipes[i].dishTypes.splice(j, 1);
        }
        else if(data.recipes[i].dishTypes[j] === "antipasti" || data.recipes[i].dishTypes[j] === "antipasto") {
          data.recipes[i].dishTypes.splice(j, 1);
        }
        else if(data.recipes[i].dishTypes[j] === "appetizer" || data.recipes[i].dishTypes[j] === "hor d'oeuvre") {
          data.recipes[i].dishTypes.splice(j, 1);
        }
        else if(data.recipes[i].dishTypes[j] === "drink") {
          data.recipes[i].dishTypes.splice(j, 1);
        }
        else if(data.recipes[i].dishTypes[j] === "morning meal") {
          data.recipes[i].dishTypes.splice(j, 1);
        }
      }
      tags = tags.concat(data.recipes[i].dishTypes);
    }

    // Get nutrition info
    let response = await fetch(
      `https://api.spoonacular.com/recipes/${data.recipes[i].id}/nutritionWidget.json?apiKey=${apiKey}`
    );

    // Storing data in form of JSON
    let nutritionInfo = await response.json();

    let calories = nutritionInfo.calories
    calories = calories.replace(/\D/g,'');

    let carbs = nutritionInfo.carbs
    carbs = carbs.replace(/\D/g,'');

    let fat = nutritionInfo.fat
    fat = fat.replace(/\D/g,'');

    let protein = nutritionInfo.protein
    protein = protein.replace(/\D/g,'');

    // Trim to fit recipe card size
    let summaryTrim = summary.length > 173 ? summary.substring(0, 170) + "..." : summary;

    const recipeData = {
      name: data.recipes[i].title,
      description: summaryTrim,
      time: { hours: timeHour, minutes: time},
      tags: tags,
      ingredients: ings,
      directions: steps,
      thumbnail: data.recipes[i].image,
      favorites: 0,
      saveFrom: 'Explore',
      nutritionInfo: { calories: Number(calories), carbs: Number(carbs), fat: Number(fat), protein: Number(protein)}
    };
    console.log(recipeData.name);


    // Recipe Card
    let recipeCard = document.createElement("recipe-card");
    recipeCard.data = recipeData;

    recipeCard.addEventListener("click", (e) => {
      recipeData.description = summary;
      document.querySelector("recipe-expand").data = recipeData;
      changeView("Recipe Expand");
      document.getElementById("cook-mode-btn").className = "hidden";
      const returnBut = document.getElementById("return-btn");
      if(returnBut.classList.contains("explore")){
          let editButton = document.getElementById("edit-btn");
          let deleteButton = document.getElementById("delete-btn");
          editButton.style.display = "none";
          deleteButton.className = "hidden";
      }
    });

    saveBtn = document.createElement("button");
    saveBtn.id = `save-to-rec-btn${i}`;
    saveBtn.className = `save-to-rec-btn`;
    saveBtn.innerHTML = "Save to My Recipes";

    // Card wrapper to hold recipe card and button
    const cardWrapper = document.createElement("div");
    cardWrapper.className = `card${i}`;
    cardWrapper.id = 'explore-recipe-card';

    cardWrapper.appendChild(recipeCard);
    cardWrapper.appendChild(saveBtn);

    document.querySelector("#explore-wrapper").appendChild(cardWrapper);

    // Switch to create recipe page and fill in inputs
    saveBtn.onclick = function() {
      // Edit option
      if (confirm("Would you like to edit the recipe before saving?")) {
        // Hide explore recipes
        document.querySelector(".explore").classList.add('hidden');

        // Show create recipes page
        let createRecipe = document.querySelector(".section--create-recipe");
        createRecipe.classList.add("shown");

        // Show save button
        let saveButtonCreate = document.querySelector("button.save-btn-create");
        saveButtonCreate.style.display="block";

        // Set Image
        document.getElementById('display-image').src = recipeData.thumbnail;

        // Set Name
        document.getElementById('input-name').value = recipeData.name;

        // Set Description
        document.getElementById('input-desc').value = summary;

        // Set Nutrition Info
        console.log(recipeData.nutritionInfo.calories)
        document.getElementById('input-calories').value = recipeData.nutritionInfo.calories;
        console.log(recipeData.nutritionInfo.carbs)
        document.getElementById('input-carbs').value = recipeData.nutritionInfo.carbs;
        console.log(recipeData.nutritionInfo.fat)
        document.getElementById('input-fat').value = recipeData.nutritionInfo.fat;
        console.log(recipeData.nutritionInfo.protein)
        document.getElementById('input-protein').value = recipeData.nutritionInfo.protein;

        // Set Time
        document.getElementById('input-mins').value = recipeData.time.minutes;

        let x;
        let y;
        let z;

        // TAGS

        // Clear first input
        document.getElementById('input-tags1').remove();

        // Create inputs for tags
        for (x = 1; x &lt;= tags.length; x++) {
          document.getElementById("tag-wrapper").innerHTML += `
          &lt;input type="text" id="input-tags${x}" class="tags" name="input-tags${x}">
          `;
          tagCounter++;
        }

        // Set values for tags
        for (x = 1; x &lt;= tags.length; x++) {
          document.getElementById(`input-tags${x}`).value = tags[x-1] ;
        }

        // INGREDIENTS

        // Clear first input
        document.getElementById('label-ings1').remove();
        document.getElementById('input-ings1').remove();

        // Create inputs for ings
        for (y = 1; y &lt;= ings.length; y++) {
        document.getElementById(
          "ing-wrapper"
        ).innerHTML += `&lt;div class="input-card-ings" id=card-ing${y}>
          &lt;label for="input-ings${y}" id=label-ings${y}>${y}.&lt;/label>
          &lt;input type="text" id="input-ings${y}"  class="ings" name="input-ings${y}">
          &lt;/div>`;
          ingCounter++;
        }

        // Set values for ings
        for (y=1; y &lt;= ings.length; y++) {
          document.getElementById(`input-ings${y}`).value = ings[y-1];
        }

        // INSTRUCTIONS

        // Clear first input
        document.getElementById('card-step-1').remove();

        // Create inputs for steps
        for (z=1; z&lt;= steps.length; z++) {
          document.getElementById(
            "step-wrapper"
          ).innerHTML += `&lt;div class="input-card-steps" id=card-step${z}>
          &lt;label for="input-steps${z}" id=label-steps${z}>${z}.&lt;/label>
            &lt;input type="text" id="input-steps${z}"  class="steps" name="input-steps${z}">
            &lt;/div>`;
            stepCounter++;
        }

        // Set values for steps
        for (z=1; z &lt;= steps.length; z++) {
          document.getElementById(`input-steps${z}`).value = steps[z-1];
        }
      }
      else {
        // Change description to include full instead of trim
        recipeData.description = summary;
        
        // Put the object into storage
        localStorage.setItem(
        recipeData.name.toLowerCase(),
        JSON.stringify(recipeData));

        alert('Recipe has been saved!');
      }
    };
  }
}



</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addNewIngredientAddslabelandnewinputfieldforingredients">addNewIngredient
 Adds label and new input field for ingredients</a></li><li><a href="global.html#addNewStepAddslabelandnewinputfieldforsteps">addNewStep
 Adds label and new input field for steps</a></li><li><a href="global.html#addNewTagAddsnewinputfortags">addNewTag
 Adds new input for tags</a></li><li><a href="global.html#bindRecipeCardAddsaneventlistenertoeachrecipecardwhich,whenclicked,setstheexpandrecipepagetotherecipecard'sdataandnavigatestosaidrecipepage.">bindRecipeCard
 Adds an event listener to each recipe card which, when
 clicked, sets the expand recipe page to the recipe card's
 data and navigates to said recipe page.</a></li><li><a href="global.html#createRecipeButton">createRecipeButton</a></li><li><a href="global.html#filterTagsChecksthetaglistofeachexistingrecipecard.Ifthefiltertagisnotinarecipe'staglist,thatrecipegetshidden.Ifthefilterisbeingturnedoff,thencheckthelistoftagsstillbeingfilteredforagainsteachrecipe'staglist.Ifthereisnointersection,displaytherecipe">filterTags 
 Checks the tag list of each existing recipe card. If the filter tag is not in a recipe's tag list,
 that recipe gets hidden. If the filter is being turned off, then check the list of tags still being
 filtered for against each recipe's tag list. If there is no intersection, display the recipe</a></li><li><a href="global.html#handleImageUploadConvertsimagetodataUrltopreviewit">handleImageUpload
 Converts image to dataUrl to preview it</a></li><li><a href="global.html#imageUpload">imageUpload</a></li><li><a href="global.html#initCardsWhenpageisreloaded/refreshed,createsanewrecipecardforeachrecipeinlocalStorageandbindstheexpandedrecipepagetoit">initCards
 When page is reloaded/refreshed, creates a new recipe card
 for each recipe in localStorage and binds the expanded
 recipe page to it</a></li><li><a href="global.html#navEditCreateseditrecipepagethatcontainsdataforarecipeintheinputs">navEdit
 Creates edit recipe page that contains data for a recipe in the inputs</a></li><li><a href="global.html#newCardIfpassedrecipeexistsinlocalStorage,createsanewrecipecardwiththeexpandedrecipepageboundtoit.">newCard
 If passed recipe exists in localStorage, creates a new recipe
 card with the expanded recipe page bound to it.</a></li><li><a href="global.html#recipeExistsCheckstoseeifarecipeexistsinlocalstoragebycheckingthename">recipeExists
 Checks to see if a recipe exists in local storage
 by checking the name</a></li><li><a href="global.html#refreshRemovesrecipesandshows15otherrandomrecipes">refresh
 Removes recipes and shows 15 other random recipes</a></li><li><a href="global.html#resetClearsinputfieldsaftersaving">reset
 Clears input fields after saving</a></li><li><a href="global.html#saveBaseSavesdataininputfieldstolocalstorageResetstheinputfieldvaluesChangesscreentoexpandedrecipepageofsavedrecipe">saveBase
 Saves data in input fields to local storage
 Resets the input field values
 Changes screen to expanded recipe page of saved recipe</a></li><li><a href="global.html#saveDataCreateChecktomakesureinputfieldsarevalidorifrecipealreadyexistsIfitdoesn'tChangesscreentoexpandedrecipepageofsavedrecipe">saveDataCreate
 Check to make sure input fields are valid or if recipe already exists
 If it doesn't
 Changes screen to expanded recipe page of saved recipe</a></li><li><a href="global.html#saveDataEditSavesediteddataininputfieldstolocalstorageanddeletesoldrecipeResetstheinputfieldvaluesChangesscreentoexpandedrecipepageofsavedrecipe">saveDataEdit
 Saves edited data in input fields to local storage and deletes old recipe
 Resets the input field values
 Changes screen to expanded recipe page of saved recipe</a></li><li><a href="global.html#saveToMyRecipesSavesrecipesfromtheexplorepagetomyrecipesAllowsyoutoedittherecipebeforeyousave">saveToMyRecipes
 Saves recipes from the explore page to my recipes
 Allows you to edit the recipe before you save</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Fri Dec 03 2021 06:43:12 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
